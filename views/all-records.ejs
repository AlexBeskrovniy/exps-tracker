<!DOCTYPE html>
<html lang="en">
	<head>
		<%- include('partials/head'); -%>
    </head>
	<body>
		<!-- HEADER -->
		<%- include('partials/header'); -%>
		<!--/HEADER -->

		<!-- MAIN -->
		<main class="main">
			<div class ="container">
				<div class="d-flex flex-wrap align-items-center justify-content-between py-5">
					<h2 class="page-title ms-2 mb-0">All Records</h2>
				</div>

				<div id="record-wrap" class="d-flex row justify-content-center justify-content-md-between">
					<% if (records) {
						records.forEach(function(record) { %>
					<div class="record-card card bg-dark col-sm-6 col-md-3 my-3 mx-2" id="<%= record._id %>">
						<div class="card-body">
							<ul class="list-group list-group-flush">
								<li class="list-group-item bg-dark d-flex justify-content-between">
									<span><h5 class="card-title text-white">Date: </h5></span>
									<span id="record-date" class="card-text text-white"><%= new Date(record.createdAt).toDateString(); %></span>
								</li>
								<li class="list-group-item bg-dark d-flex justify-content-between">
									<span><h5 class="card-title text-white">Category:</h5></span>
									<span name="record-category" id="record-category" class="card-text text-white"><%= record.category %></span>
								</li>
								<li class="list-group-item bg-dark d-flex justify-content-between">
									<span><h5 class="card-title text-white">Spent:</h5></span>
									<span name="record-spent" id="record-spent" class="spent card-text fs-4"><%= record.money %></span>
								</li>
								<li class="list-group-item bg-dark">
									<h5 class="card-title text-white">Description</h5>
									<p name="record-description" id="record-description" class="card-text text-white">
										<%= record.description %>
									</p>
								</li>
							</ul>
						</div>
						<div class="card-footer d-flex justify-content-around py-3">
							<a id="<%=record._id%>" data-edit-button href="#" class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#modalFormEditRecord">Edit</a>
							<form data-delete>
								<input type="hidden" name="id" value="<%= record._id %>">
								<button id="delete" type="submit" class="btn btn-outline-warning">Delete</button>
							</form>
						</div>
					</div>
					<%	});
					} %> 
				</div>
			</div>	
		</main>
		<!--/MAIN -->
		<!--Modal Window Form Edit Record-->
		<%- include('partials/modal-form-edit-record'); -%>
		<!--/Modal Window Form Edit Record--->
		<!-- FOOTER -->
		<%- include('partials/footer'); -%>
		<!--/FOOTER -->
	</body>
</html>